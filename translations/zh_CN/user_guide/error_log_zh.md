# 异常日志记录

`Pingora` 库构建时会预期来自网络的断开连接、超时和无效输入等问题。记录这些问题的常见方式是将它们输出到异常日志（STDERR 或日志文件）中。

## 日志级别指南
`Pingora` 采用了 [log](https://docs.rs/log/latest/log/) 背后的思想。有五个日志级别：
* `error`：当异常阻止请求正确处理时应使用此级别。例如，当我们尝试连接的服务器处于离线状态时。
* `warning`：当发生异常但系统能够从中恢复时应使用此级别。例如，当主 DNS 超时但系统能够查询备用 DNS 时。
* `info`：`Pingora` 在服务器启动或关闭时记录日志。
* `debug`：内部细节。此日志级别不会在 `release` 构建中编译。
* `trace`：精细的内部细节。此日志级别不会在 `release` 构建中编译。

`pingora-proxy` 包具有良好定义的接口来记录异常，因此用户无需手动记录常见的代理异常。有关更多详细信息，请参阅其指南。
